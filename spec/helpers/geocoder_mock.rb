WebMock.stub_request(:get, /freegeoip.net\/json/).
  with(:headers => {'Accept'=>'*/*', 'Accept-Encoding'=>'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=>'Ruby'}).
  to_return(:status => 200, :body => '{"ip":"27.100.81.215","country_code":"TW","country_name":"Taiwan","region_code":"","region_name":"Taiwan","city":"Taichung","zip_code":"","time_zone":"Asia/Taipei","latitude":24.143,"longitude":120.681,"metro_code":0}', :headers => {})
WebMock.stub_request(:get, /http:\/\/geocoder\.ca\/\?callback=test&corner=1&geoit=xml&jsonp=1&latt=.*&longt=.*&reverse=1/).
  with(:headers => {'Accept'=>'*/*', 'Accept-Encoding'=>'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=>'Ruby'}).
  to_return(:status => 200, :body => 'test({"betweenRoad1":"Bullard","distance":"0.005","usa":{"uscity":"OAKLAND","inlatt":"37.831","distance":"0.005","usstnumber":"5901","state":"CA","latt":"37.8309931000","longt":"-122.2200575000","zip":"94611","inlongt":"-122.22","usstaddress":"Estates DR"},"latt":"37.830993","city":"OAKLAND","prov":"CA","intersection":{"prov":"CA","city":"Oakland","longtx":"-122.219379","distance":"0.168","street2":"Estates Dr","lattx":"37.832426","street1":"Johnston Dr"},"NearRoad":"Estates DR","neighborhood":"Montclair","stnumber":"5901","staddress":"Estates DR","inlatt":"37.831","major_intersection":{"prov":"CA","city":"Oakland","longtx":"-122.2181780000","distance":"0.182","street2":"Bullard Dr","lattx":"37.8302260000","street1":"Estates Dr"},"NearRoadDistance":"0.005","betweenRoad2":"Johnston","postal":"94611","longt":"-122.220057","inlongt":"-122.22","confidence":"0.5"});', :headers => {})
WebMock.stub_request(:get, /http:\/\/www\.mapquestapi\.com\/geocoding\/v1\/reverse\?key=.*&location=.*/).
         with(:headers => {'Accept'=>'*/*', 'Accept-Encoding'=>'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=>'Ruby'}).
         to_return(:status => 200, :body => '{"info":{"statuscode":0,"copyright":{"text":"\u00A9 2015 MapQuest, Inc.","imageUrl":"http://api.mqcdn.com/res/mqlogo.gif","imageAltText":"\u00A9 2015 MapQuest, Inc."},"messages":[]},"options":{"maxResults":1,"thumbMaps":true,"ignoreLatLngInput":false},"results":[{"providedLocation":{"latLng":{"lat":24.143,"lng":120.681}},"locations":[{"street":"139 Pingdeng Street","adminArea6":"","adminArea6Type":"Neighborhood","adminArea5":"Guangfu Village","adminArea5Type":"City","adminArea4":"","adminArea4Type":"County","adminArea3":"Taichung City","adminArea3Type":"State","adminArea1":"TW","adminArea1Type":"Country","postalCode":"40045","geocodeQualityCode":"L1AAA","geocodeQuality":"ADDRESS","dragPoint":false,"sideOfStreet":"N","linkId":"0","unknownInput":"","type":"s","latLng":{"lat":24.142759,"lng":120.681655},"displayLatLng":{"lat":24.142759,"lng":120.681655},"mapUrl":"http://www.mapquestapi.com/staticmap/v4/getmap?key=8LrAyCQQ3qT2So1Uw9ennoRjzE1GDaQj&type=map&size=225,160&pois=purple-1,24.1427587,120.681655381873,0,0,|&center=24.1427587,120.681655381873&zoom=15&rand=-864912571"}]}]}', :headers => {})