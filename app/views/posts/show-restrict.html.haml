
.max-width-3.mx-auto.px2.sm-px3.mb3.sm-mb4
  = render "post_intro"
  %div
    %p= @excerpt.try(:html_safe)
    %div{ style: "position: relative;" }
      =image_tag '/assets/article-blur-desktop.png', id: "desktop-blur", class: "xs-hide", style: "width: 102%; position: relative; left: -1%;"
      =image_tag '/assets/article-blur-mobile.png', id: "mobile-blur", style: "width: 102%; position: relative; left: -1%;"

      .flex.items-center{ style: "position: absolute; top: 0px; width: 100%" }
        // Paywall div
        .mx-auto.my4.border.border-gray-10
          .px2.py1.bg-white
            %h3.center.m0.gray-60.bold.inline.mx-auto Members only article
            #{ link_to "Log in", new_user_session_path, class: "blue right inline" }
          .p2.sm-px4.sm-py3.bg-gray-05
            %h1.center.mt0 Become a MyDomino member
            .mx-auto.max-width-1
              %ul.gray-80
                %li Unlimited access to an energy savings concierge.
                %li A personalized path to 100% clean energy and big savings.
                %li An online dashboard to track your progress.
                %li Recommendations on clean energy products and services vetted by our team.

              // Mostly copied from profile/_name_and_email.html.haml
              #profile-forms.my3.max-width-1
                =simple_form_for @profile, method: @response[:method] do |form|
                  .flex
                    .mr1
                      =form.input_field :first_name, class: "h3 bg-white border border-gray-30 gray-80 rounded required-field", placeholder: "First name", data: {reg: '\\w', target: '#first-name-error-msg'}
                      #first-name-error-msg.display-none.red.m0
                        'First name' is blank
                    %div
                      =form.input_field :last_name, class: "h3 bg-white border border-gray-30 gray-80 rounded required-field", placeholder: "Last name", data: {reg: '\\w', target: '#last-name-error-msg'}
                      #last-name-error-msg.display-none.red.m0
                        'Last name' is blank
                  .my1
                    =form.input_field :email, class: "h3 bg-white gray-80 rounded border border-gray-30 required-field", placeholder: "Email address", data: {reg: '^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$', target: '#email-error-msg'}
                    #email-error-msg.display-none.red.m0
                      This email is invalid.
                  .m1.center
                    =form.submit "Get started", id: 'btn-begin-onboard', class: "btn btn-sm btn-primary btn-primary--hover max-width-half",style: "height:42px;width:100%;"
